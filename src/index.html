<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Stencil Component Starter</title>

    <script type="module" src="/build/stencil-test-component.esm.js"></script>
    <script nomodule src="/build/stencil-test-component.js"></script>
  </head>

  <body>
    <h1>hello stencil test component</h1>
    <my-rating max-value="5" value="2"></my-rating>
    <my-name></my-name>
    <script>
      window.onload = function () {
        const myRatingComponent = document.querySelector('my-rating');
        // NOTE 无效
        // myRatingComponent.setAttribute('person', { name: 'John', age: 30 });
        myRatingComponent.setPerson({ name: 'John', age: 30 });
        myRatingComponent.setPersonArray([
          { name: 'John', age: 30 },
          { name: 'John', age: 30 },
        ]);
        setTimeout(() => {
          myRatingComponent.value = 1;
          myRatingComponent['isShow'] = true;
          // myRatingComponent.setAttribute('value', 4);
          console.log('set value');
          myRatingComponent.getValue({ maxValue: 10, value: 5 }).then(value => {
            console.log('get value', value);
          });
        }, 2000);

        myRatingComponent.addEventListener('ratingChange', ({ detail }) => {
          console.log('rating changed', detail);
        });
      };
    </script>
  </body>
</html>
